
"""
Validity testing for the Site Acceptance Test pipeline.
"""

from pysiv2.custom.base import TestReportStatistics


class TestSATReport(TestReportStatistics):
    """
    Compare the statistics output by the SAT report to expected values.  The
    `coverage` and `concordance` metrics will default to 1.0 if not specified
    in `test_values.json`.
    """
    REPORT_ID = "sat"
    TEST_ID = "sat"
    METRIC_IDS = [
        "coverage",
        "concordance",
        "mapped_readlength_mean",
        "reads_in_cell",
    ]
    DEFAULT_VALUES = {"coverage": 1.0, "concordance": 1.0}

    def test_sat_instrument(self):
        """
        Test that the reported instrument serial number is the expected string.
        """
        self._compare_stats("instrument")
