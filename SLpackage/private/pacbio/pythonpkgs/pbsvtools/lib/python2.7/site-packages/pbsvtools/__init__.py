from __future__ import absolute_import

MAGIC = "pbsvtools"
MAGIC_TOOL_ID = '.'.join([MAGIC, "tasks"]) #"pbsvtools.tasks"
MAGIC_TASK_OPTIONS = '.'.join([MAGIC, "task_options"])

MAGIC_DRIVER_EXE = "python -m %s --resolved-tool-contract "

def get_tool_id(name):
    """Return tool id as pbsvtools.tasks.${name}"""
    return '.'.join([MAGIC_TOOL_ID, str(name)])

def get_version():
    """Return version as a string"""
    return '0.1.0' # don't forget to update setup.py too

__version__ = get_version()

def get_driver_exe(name):
    """Return python -m ${tool_id} --resolved-tool-contract """
    if name.startswith(MAGIC_TOOL_ID):
        name = name[len(MAGIC_TOOL_ID):]
    return MAGIC_DRIVER_EXE % get_tool_id(name)

def get_tcp_option_name(param_name):
    """Return pbsvtools.task_options.${param_name}"""
    return '.'.join([MAGIC_TASK_OPTIONS, str(param_name)])
