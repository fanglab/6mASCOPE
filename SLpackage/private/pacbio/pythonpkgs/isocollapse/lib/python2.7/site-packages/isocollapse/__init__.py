#! python

"""
Phony doctest, for now:

>>> True
True
"""
from __future__ import absolute_import

VERSION = (0, 2, 1)

MAGIC = "isocollapse"
MAGIC_TOOL_ID = '.'.join([MAGIC, "tasks"])
MAGIC_TASK_OPTIONS = '.'.join([MAGIC, "task_options"])

MAGIC_DRIVER_EXE = "python -m %s --resolved-tool-contract "


def get_version():
    return ".".join([str(i) for i in VERSION])


__version__ = get_version()


def get_tool_id(name):
    """Return tool id as {MAGIC}.tasks.${name}"""
    return '.'.join([MAGIC_TOOL_ID, str(name)])


def get_driver_exe(name):
    """Return python -m ${tool_id} --resolved-tool-contract """
    if name.startswith(MAGIC_TOOL_ID):
        name = name[len(MAGIC_TOOL_ID):]
    return MAGIC_DRIVER_EXE % get_tool_id(name)


def get_tcp_option_name(param_name):
    """Return {MAGIC}.task_options.${param_name}"""
    return '.'.join([MAGIC_TASK_OPTIONS, str(param_name)])
