#! python

"""Define common classes."""

import os.path as op


def parse_ds_filename(fn):
    """Parse a read file in FASTA/FASTQ/CongitSet format, return
    (file_prefix, file_suffix).
    """
    if fn.endswith(".contigset.xml"):
        prefix = op.join(op.dirname(fn), '.'.join(op.basename(fn).split('.')[0:-2]))
        suffix = "contigset.xml"
    else:
        prefix = op.join(op.dirname(fn), '.'.join(op.basename(fn).split('.')[0:-1]))
        if fn.endswith(".fasta") or fn.endswith(".fa"):
            suffix = "fasta"
        elif fn.endswith(".fastq") or fn.endswith(".fq"):
            suffix = "fastq"
        else:
            raise ValueError("Invalide FASTA/FASTQ/ContigSet file %s" % fn)
    return (prefix, suffix)
